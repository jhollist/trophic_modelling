{
    "collab_server" : "",
    "contents" : "#' Create map of NLA samples\n#' \n#' Function to generate Map 1 in hkm2014ESA poster\n#' \n#' @param states data for states, as data.frame\n#' @param lakes point locations for lake samples as data.frame\n#' @param cats plot ts categories?\n#' @param myColor vector of length 3 with colors for fill, lines, and points in that order\n#' \n#' @examples\n#' state<-map_data('state')\n#' lakes_alb<-data.frame(ltmData[[\"AlbersX\"]],ltmData[[\"AlbersY\"]])\n#' p4s<-\"+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs\" \n#' ll<-\"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs\" \n#' lakes_alb_sp<-SpatialPoints(coordinates(lakes_alb),proj4string=CRS(p4s))\n#' lakes_dd<-spTransform(lakes_alb_sp,CRS=CRS(ll))\n#' lakes_dd<-data.frame(coordinates(lakes_dd))\n#' names(lakes_dd)<-c(\"long\",\"lat\")\n#' nlaMap(state,lakes_dd)\n#' @export\n#' @import ggplot2\nnlaMap<-function(states,lakes,cats=F,myColor=1:3,catColor=NULL){\n  #Color Blind Friendly Palette\n  if(cats){\n    gmap<-ggplot(states,aes(x=long,y=lat))+\n      geom_polygon(aes(group=group),fill=myColor[2],colour=myColor[1])+\n      geom_point(data=lakes,aes(x=long,y=lat,color=factor(data)),size=2.5)+\n      scale_color_manual(values=catColor,\n                         name=\"Trophic\\nState\",\n                         breaks=c(\"Oligo\", \"Meso\", \"Eu\",\"Hyper\"),\n                         labels=c(\"Oligotrophc\", \"Mesotrophic\", \"Eutrophic\",\"Hypereutrophic\"))+\n      coord_map(\"albers\", lat2 = 45.5, lat1 = 29.5) +\n      theme(panel.background = element_rect(fill=\"white\"), panel.grid = element_blank(), \n            panel.border = element_blank(),\n            axis.text = element_blank(),axis.ticks = element_blank(),\n            legend.key.width=unit(2, \"line\"), \n            legend.key.height=unit(0.5, \"line\"),\n            legend.position=\"bottom\", legend.direction=\"horizontal\") + \n      ylab(\"\") + \n      xlab(\"\")\n  } else {\n  gmap<-ggplot(states,aes(x=long,y=lat))+\n               geom_polygon(aes(group=group),fill=myColor[2],colour=myColor[1])+\n               geom_point(data=lakes,aes(x=long,y=lat),size=2.5,colour=myColor[3])+\n               coord_map(\"albers\", lat2 = 45.5, lat1 = 29.5)+\n               theme(panel.background = element_rect(fill=\"white\"), panel.grid = element_blank(), \n                     panel.border = element_blank(), legend.position = \"none\", \n                     axis.text = element_blank(),axis.ticks = element_blank()) + \n               ylab(\"\") + \n               xlab(\"\")\n  }\n  return(gmap)\n}",
    "created" : 1464803396321.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3345698846",
    "id" : "75E7CF85",
    "lastKnownWriteTime" : 1464803460,
    "path" : "/data/projects/trophic_modelling/R/nlaMap.R",
    "project_path" : "R/nlaMap.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}